{"version":3,"sources":["pages/Main/styles.js","components/Container/index.js","services/api.js","pages/Main/index.js","pages/Repository/styles.js","pages/Repository/index.js","routes.js","styles/global.js","App.js","index.js"],"names":["Form","styled","form","Input","input","props","error","rotate","keyframes","SubmitButton","button","attrs","type","disabled","loading","css","List","ul","Container","div","api","axios","create","baseURL","Main","useState","newRepo","setNewRepo","repositories","setRepositories","setLoading","setError","useEffect","repos","localStorage","getItem","JSON","parse","setItem","stringify","handleSubmit","e","a","preventDefault","filter","r","name","Error","get","response","data","full_name","onSubmit","placeholder","value","onChange","target","color","size","map","repo","key","to","encodeURIComponent","alt","Loadding","Owner","header","ButtonIssue","active","IssueList","Repository","match","repository","setRepository","issues","setIssues","issueState","setIssueState","page","setPage","repoName","decodeURIComponent","params","Promise","all","state","per_page","_repository","_issues","getRepo","owner","src","avatar_url","login","description","label","option","onClick","issue","String","id","user","rel","href","html_url","title","labels","Routes","basename","process","path","exact","component","createGlobalStyle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.76099ca4.chunk.js","sourcesContent":["import styled, { keyframes, css } from 'styled-components';\n\nexport const Form = styled.form`\n  margin-top: 30px;\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const Input = styled.input`\n  flex: 1;\n  border: 1px solid ${props => (props.error ? 'red' : '#eee')};\n  padding: 10px 15px;\n  border-radius: 4px;\n  font-size: 16px;\n`;\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const SubmitButton = styled.button.attrs(props => ({\n  type: 'submit',\n  disabled: props.loading,\n}))`\n  background: #7159c1;\n  border: 0;\n  padding: 0 15px;\n  margin-left: 10px;\n  border-radius: 4px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &[disabled] {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n  ${props =>\n    props.loading &&\n    css`\n      svg {\n        animation: ${rotate} 2s linear infinite;\n      }\n    `}\n`;\n\nexport const List = styled.ul`\n  list-style: none;\n  margin-top: 30px;\n\n  li {\n    padding: 15px 0;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-content: center;\n\n    & + li {\n      border-top: 1px solid #eee;\n    }\n\n    a {\n      color: #7159c1;\n      text-decoration: none;\n    }\n  }\n`;\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-width: 700px;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  padding: 30px;\n  margin: 80px auto;\n\n  h1 {\n    font-size: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    svg {\n      margin-right: 10px;\n    }\n  }\n`;\n\nexport default Container;\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://api.github.com',\n});\n\nexport default api;\n","import React, { useState, useEffect } from 'react';\nimport { FaGithubAlt, FaPlus, FaSpinner } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\nimport { Form, SubmitButton, List, Input } from './styles';\nimport Container from '../../components/Container';\n\nimport api from '../../services/api';\n\nexport default function Main() {\n  const [newRepo, setNewRepo] = useState('');\n  const [repositories, setRepositories] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    const repos = localStorage.getItem('repositories');\n\n    if (repos) {\n      setRepositories(JSON.parse(repos));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('repositories', JSON.stringify(repositories));\n  }, [repositories]);\n\n  const handleInputChange = e => {\n    setNewRepo(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(false);\n    try {\n      const isDuplicated = repositories.filter(r => r.name === newRepo);\n\n      if (isDuplicated) throw new Error('Repositório duplicado');\n\n      const response = await api.get(`/repos/${newRepo}`);\n\n      const data = {\n        name: response.data.full_name,\n      };\n\n      setRepositories([...repositories, data]);\n      setNewRepo('');\n      setLoading(false);\n    } catch (err) {\n      setError(true);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container>\n      <h1>\n        <FaGithubAlt />\n        Repositórios\n      </h1>\n\n      <Form onSubmit={handleSubmit}>\n        <Input\n          error={error}\n          type=\"text\"\n          placeholder=\"Adicionar repositório\"\n          value={newRepo}\n          onChange={handleInputChange}\n        />\n\n        <SubmitButton loading={loading ? 1 : 0}>\n          {loading ? (\n            <FaSpinner color=\"#FFF\" size=\"14px\" />\n          ) : (\n            <FaPlus color=\"#FFF\" size=\"14px\" />\n          )}\n        </SubmitButton>\n      </Form>\n\n      <List>\n        {repositories.map(repo => (\n          <li key={repo.name}>\n            <span>{repo.name}</span>\n            <Link\n              to={`/repository/${encodeURIComponent(repo.name)}`}\n              alt=\"link\"\n            >\n              Detalhes\n            </Link>\n          </li>\n        ))}\n      </List>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Loadding = styled.div`\n  color: #fff;\n  font-size: 30px;\n  font-weight: bold;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n`;\n\nexport const Owner = styled.header`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  a {\n    color: #7159c1;\n    font-size: 16px;\n    text-decoration: none;\n  }\n  img {\n    width: 120px;\n    border-radius: 100%;\n    margin-top: 20px;\n  }\n\n  h1 {\n    font-size: 24px;\n    margin-top: 10px;\n  }\n\n  p {\n    margin-top: 5px;\n    font-size: 14px;\n    color: #666;\n    line-height: 1.4;\n    max-width: 400px;\n  }\n`;\n\nexport const ButtonIssue = styled.button.attrs({\n  type: 'button',\n})`\n  font-size: 16px;\n  color: ${props => (props.active ? '#FFF' : '#333')};\n  background: ${props => (props.active ? '#333' : '#eee')};\n  border: 0;\n  border-radius: 4px;\n  margin-left: 10px;\n  padding: 10px;\n  border: 2px solid transparent;\n\n  &:hover {\n    border: 2px solid #7159c1;\n  }\n\n  &[disabled] {\n    opacity: 0.6;\n    cursor: not-allowed;\n    border: 2px solid transparent;\n  }\n`;\n\nexport const IssueList = styled.div`\n  padding-top: 30px;\n  margin-top: 30px;\n  border-top: 1px solid #eee;\n  list-style: none;\n\n  div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 30px;\n    margin-top: 10px;\n\n    span {\n      margin: 0 15px;\n      font-size: 16px;\n    }\n  }\n\n  li {\n    display: flex;\n    padding: 15px 10px;\n    border: 1px solid #eee;\n    border-radius: 4px;\n\n    & + li {\n      margin-top: 10px;\n    }\n\n    img {\n      width: 36px;\n      height: 36px;\n      border-radius: 100%;\n      border: 2px solid #eee;\n    }\n\n    div {\n      margin-left: 15px;\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: flex-start;\n      strong {\n        font-size: 16px;\n\n        a {\n          text-decoration: none;\n          color: #333;\n\n          &:hover {\n            color: #7159c1;\n          }\n        }\n\n        span {\n          background: #eee;\n          color: #333;\n          border-radius: 2px;\n          font-size: 12px;\n          font-weight: 600;\n          height: 20px;\n          padding: 3px 4px;\n          margin-left: 10px;\n        }\n      }\n\n      p {\n        margin-top: 5px;\n        font-size: 12px;\n        color: #999;\n      }\n    }\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport api from '../../services/api';\n\nimport Container from '../../components/Container';\nimport { Loadding, Owner, IssueList, ButtonIssue } from './styles';\n\nfunction Repository({ match }) {\n  const [repository, setRepository] = useState({});\n  const [issues, setIssues] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [issueState, setIssueState] = useState('all');\n  const [page, setPage] = useState(1);\n\n  const issueOptions = [\n    { value: 'all', label: 'Todas' },\n    { value: 'open', label: 'Abertas' },\n    { value: 'closed', label: 'Fechadas' },\n  ];\n\n  useEffect(() => {\n    async function getRepo() {\n      setLoading(true);\n      const repoName = decodeURIComponent(match.params.name);\n\n      const [_repository, _issues] = await Promise.all([\n        api.get(`/repos/${repoName}`),\n        api.get(`/repos/${repoName}/issues`, {\n          params: {\n            state: issueState,\n            per_page: 10,\n            page,\n          },\n        }),\n      ]);\n\n      setRepository(_repository.data);\n      setIssues(_issues.data);\n      setLoading(false);\n    }\n\n    getRepo();\n  }, [issueState, page]);\n\n  if (loading) {\n    return <Loadding>Carregando</Loadding>;\n  }\n\n  const { owner } = repository;\n  return (\n    <Container>\n      <Owner>\n        <Link to=\"/\">Voltar</Link>\n        <img src={owner.avatar_url} alt={owner.login} />\n        <h1>{repository.name}</h1>\n        <p>{repository.description}</p>\n      </Owner>\n      <IssueList>\n        <div>\n          {issueOptions.map(option => (\n            <ButtonIssue\n              key={option.value}\n              active={option.value === issueState}\n              onClick={() => setIssueState(option.value)}\n            >\n              {option.label}\n            </ButtonIssue>\n          ))}\n        </div>\n        {issues.map(issue => (\n          <li key={String(issue.id)}>\n            <img src={issue.user.avatar_url} alt={issue.user.login} />\n            <div>\n              <strong>\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={issue.html_url}\n                >\n                  {issue.title}\n                </a>\n                {issue.labels.map(label => (\n                  <span key={String(label.id)}>{label.name}</span>\n                ))}\n              </strong>\n              <p>{issue.user.login}</p>\n            </div>\n          </li>\n        ))}\n        <div>\n          <ButtonIssue disabled={page === 1} onClick={() => setPage(page - 1)}>\n            Página Anterior\n          </ButtonIssue>\n          <span>Página {page}</span>\n          <ButtonIssue onClick={() => setPage(page + 1)}>\n            Próxima Página\n          </ButtonIssue>\n        </div>\n      </IssueList>\n    </Container>\n  );\n}\n\nRepository.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default Repository;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Main from './pages/Main';\nimport Repository from './pages/Repository';\n\nexport default function Routes() {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route path=\"/\" exact component={Main} />\n        <Route path=\"/repository/:name\" component={Repository} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html, body, #root {\n    min-height: 100%;\n  }\n\n  body {\n    background: #7159c1;\n    -webkit-font-smoothing: antialiased !important;\n  }\n\n  body, input, button {\n    color: #222;\n    font-size: 14px;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n\n  button {\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport Routes from './routes';\nimport GlobalStyle from './styles/global';\n\nfunction App() {\n  return (\n    <>\n      <Routes />\n      <GlobalStyle />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}